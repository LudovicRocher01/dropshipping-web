<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>R√©capitulatif de Commande</title>
  <link rel="stylesheet" href="cashStyles.css">
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="logo">üöÄ Osteozen</a>
    </div>
  </nav>
  <main class="container">
    <h1 id="remerciement">Merci pour votre commande !</h1>
    <div id="recap">
      <!-- Le r√©capitulatif de la commande s'affichera ici -->
    </div>
  </main>
  <script>
    // R√©cup√©rer les informations du client et de la commande depuis sessionStorage
    const clientData = JSON.parse(sessionStorage.getItem("orderClient"));
    const produits = JSON.parse(sessionStorage.getItem("orderProduits"));
    const total = sessionStorage.getItem("orderTotal");
    
    // Mettre √† jour le message de remerciement avec le pr√©nom et le nom
    if (clientData) {
      const remerciement = document.getElementById("remerciement");
      remerciement.textContent = `Merci ${clientData.prenom} ${clientData.nom} pour votre commande !`;
    }
    
    // Afficher le r√©capitulatif de la commande
    const recapDiv = document.getElementById("recap");
    if (produits && produits.length > 0) {
      let html = `<h2>D√©tail de la commande :</h2>`;
      html += `<ul>`;
      produits.forEach(produit => {
        html += `<li>
                  <img src="${produit.image}" alt="${produit.nom}" width="50">
                  <strong>${produit.nom}</strong> ‚Äì Quantit√© : ${produit.quantite} ‚Äì Prix unitaire : ${parseFloat(produit.prix).toFixed(2)} ‚Ç¨
                 </li>`;
      });
      html += `<br> <h3> Votre commande sera livr√© √† l'adresse suivante : ${clientData.adresse}`
      html += `</ul> <br>`;
      html += `<h3>Total pay√© : ${parseFloat(total).toFixed(2)} ‚Ç¨</h3>`;
      html += `<br> <h3> Un email de confirmation vous a √©t√© envoy√© √† l'adresse suivante : ${clientData.email}`
      recapDiv.innerHTML = html;
    } else {
      recapDiv.innerHTML = "<p>Aucune donn√©e de commande trouv√©e.</p>";
    }
  </script>
</body>
</html>
